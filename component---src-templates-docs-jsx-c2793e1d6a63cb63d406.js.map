{"version":3,"sources":["webpack:///./src/components/sidebarLeft/sidebarLeft.jsx","webpack:///./src/components/layout.jsx","webpack:///./src/templates/docs.jsx","webpack:///./src/components/tableOfContents/tableOfContents.jsx","webpack:///./src/components/prevNextPostLinks/prevNextLinks.jsx"],"names":["SidebarLeft","children","React","useState","visibility","setVisibility","className","id","role","tabIndex","onClick","Layout","leftSidebar","defaultProps","Docs","pageContext","data","aria-label","activeClassName","title","to","hideSidebar","tableOfContentsHtml","introPage","toc","docList","map","slug","key","frontmatter","dangerouslySetInnerHTML","__html","html","next","query","TableOfContents","doScrolling","scrolToElm","duration","start","durationInSec","startPos","window","pageYOffset","distanceToElmTop","getBoundingClientRect","top","requestAnimationFrame","step","timestamp","time","percent","Math","min","scrollTo","handleClick","e","preventDefault","target","tagName","props","scrolToEl","document","getElementById","href","split","render","this","Component","PrevNextLinks","prev"],"mappings":"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","file":"component---src-templates-docs-jsx-c2793e1d6a63cb63d406.js","sourcesContent":["import React from 'react';\nimport './sidebarLeft.css';\nimport PropTypes from 'prop-types';\n\nexport default function SidebarLeft({ children }) {\n  const [visibility, setVisibility] = React.useState(false);\n\n  return (\n    <aside className={visibility ? 'open' : 'closed'} id=\"sidebarLeft\">\n      <div role=\"button\" tabIndex={0} onClick={() => setVisibility(false)} id=\"sidebarLeftModalBg\" />\n      {/* eslint-disable-next-line react/button-has-type */}\n      <button onClick={() => setVisibility(!visibility)} />\n      <div id=\"sideBarLeftContentWrap\">\n        {/* props.children */}\n        {children(setVisibility)}\n      </div>\n      {/* https://stackoverflow.com/questions/32370994/how-to-pass-props-to-this-props-children */}\n    </aside>\n  );\n}\n\nSidebarLeft.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from './header/header';\nimport Footer from './footer/footer';\nimport SidebarLeft from './sidebarLeft/sidebarLeft';\n// import Seo from \"./seo\";\n\nexport default function Layout({ children, leftSidebar }) {\n  return (\n    <>\n      {/* <Seo></Seo> */}\n      <Header />\n      {leftSidebar && typeof (leftSidebar) === 'function' && (\n        <SidebarLeft>\n          {\n            // SidebarLeft makes available 'setVisibility' fn as a param to children\n            // eslint-disable-next-line max-len\n            // also, we use render prop to render elements inside sideBar instead of some non-dynamic/fixed content\n            // So we forward the 'setVisibility' fn as a param to the render prop as well\n            (setVisibility) => (leftSidebar(setVisibility))\n          }\n        </SidebarLeft>\n      )}\n      <main>\n        {children}\n      </main>\n      <Footer />\n    </>\n  );\n}\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n  leftSidebar: PropTypes.func,\n};\n\nLayout.defaultProps = {\n  leftSidebar: null,\n};\n","import React from 'react';\nimport { graphql, Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport Layout from '../components/layout';\nimport TableOfContents from '../components/tableOfContents/tableOfContents';\nimport PrevNextLinks from '../components/prevNextPostLinks/prevNextLinks';\nimport Seo from '../components/seo';\n\nexport default function Docs({ pageContext, data }) {\n  return (\n    <Layout leftSidebar={(setVisibility) => (\n      <>\n        <header>Guides</header>\n        <nav id=\"topics\" aria-label=\"Contents\">\n          <ol>\n            <li>\n              <Link onClick={() => { setVisibility(false); }} activeClassName=\"active\" title=\"Introduction\" to=\"/docs\">Introduction</Link>\n              <TableOfContents\n                hideSidebar={() => { setVisibility(false); }}\n                tableOfContentsHtml={data.introPage.toc}\n              />\n            </li>\n            {\n            pageContext.docList.map(({ title, slug }) => (\n              <li key={slug}>\n                <Link\n                  onClick={() => { setVisibility(false); }}\n                  title={title}\n                  to={slug}\n                >\n                  {title}\n                </Link>\n              </li>\n            ))\n          }\n          </ol>\n        </nav>\n      </>\n    )}\n    >\n      <Seo title={data.introPage.frontmatter.title} />\n      <nav id=\"breadcrumb-nav\" aria-label=\"breadcrumb\">\n        <Link to=\"/\">FabricJS</Link>\n        {' '}\n        &gt;\n        {' '}\n        <span>Docs</span>\n      </nav>\n      <h1>{data.introPage.frontmatter.title}</h1>\n      {/* eslint-disable-next-line react/no-danger */}\n      <article dangerouslySetInnerHTML={{ __html: data.introPage.html }} />\n      <PrevNextLinks\n        next={{\n          title: pageContext.docList[0].title,\n          slug: pageContext.docList[0].slug,\n        }}\n      />\n    </Layout>\n  );\n}\n\nexport const query = graphql`\n  query {\n    introPage : markdownRemark(fileAbsolutePath: {regex: \"//docs/introduction.md$/\"}) {\n      html\n      frontmatter {\n        title\n      }\n      toc: tableOfContents(absolute: false,maxDepth: 2)\n    }\n  }\n`;\n\nDocs.propTypes = {\n  data: PropTypes.shape({\n    introPage: PropTypes.object,\n  }).isRequired,\n  pageContext: PropTypes.shape({\n    docList: PropTypes.array,\n  }).isRequired,\n};\n","// sidebar left is used in layout.js\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport './tableOfContents.css';\n\n// https://stackoverflow.com/questions/9979827/change-active-menu-item-on-page-scroll\n\nexport default class TableOfContents extends React.Component {\n  // constructor(props){\n  // super(props)\n  // this.state = {someVar : someVal}\n  // }\n\n  // derived from -- https://stackoverflow.com/questions/17722497/scroll-smoothly-to-specific-element-on-page\n  doScrolling = (scrolToElm, duration) => {\n    // if(typeof window === 'undefined')return;\n    if (!scrolToElm) return;\n    const durationInSec = duration || 500; // default to 0.5 sec\n    const startPos = window.pageYOffset || 0; // eslint-disable-line no-undef\n    // startPos -- relative to entire document (pixels of document hidden above the top-screen-line)\n    let distanceToElmTop = scrolToElm.getBoundingClientRect().top;\n    // distanceToElmTop -- relative to screen (distance to top of element to be scrolled to)\n    distanceToElmTop -= 60; // offset from top to accomodate header\n    // in order to scrollTo that elm, we add startPos and distanceToElmTop\n    let start;\n\n    //* Bootstrap our animation - it will get called right before next frame shall be rendered.\n    window.requestAnimationFrame(function step(timestamp) { // eslint-disable-line no-undef\n      start = start || timestamp; // if(!start) start = timestamp;\n      const time = timestamp - start; // Elapsed milliseconds since start of scrolling.\n      const percent = Math.min(time / durationInSec, 1); // Get % of completion in range [0, 1].\n\n      window.scrollTo(0, startPos + distanceToElmTop * percent); // eslint-disable-line no-undef\n\n      // Proceed with animation as long as we wanted it to.\n      if (time < durationInSec) {\n        window.requestAnimationFrame(step); // eslint-disable-line no-undef\n      }\n    }); //* /\n  }\n\n  handleClick = (e) => {\n    if (typeof window === 'undefined') return;\n    e.preventDefault();\n    // console.log(e.target.tagName);\n    if (e.target.tagName === 'A') {\n      const { hideSidebar } = this.props;\n      const scrolToEl = document.getElementById(e.target.href.split('#')[1]); // eslint-disable-line no-undef\n      scrolToEl && this.doScrolling(scrolToEl, 500); // eslint-disable-line no-unused-expressions\n      hideSidebar && typeof hideSidebar === 'function' && hideSidebar(); // eslint-disable-line no-unused-expressions\n      // this.props.hideSidebar();\n      // console.log(this.props);\n    }\n  }\n\n  render() {\n    const { tableOfContentsHtml } = this.props;\n    return (\n      <nav\n        onClick={this.handleClick}\n        role=\"button\" // eslint-disable-line jsx-a11y/no-noninteractive-element-to-interactive-role\n        id=\"table-of-contents\"\n        dangerouslySetInnerHTML={{ // eslint-disable-line react/no-danger\n          __html: tableOfContentsHtml,\n        }}\n      />\n    );\n  }\n}\n\nTableOfContents.propTypes = {\n  hideSidebar: PropTypes.func,\n  tableOfContentsHtml: PropTypes.string,\n};\n\nTableOfContents.defaultProps = {\n  hideSidebar: null,\n  tableOfContentsHtml: null,\n};\n","import React from 'react';\nimport { Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport './prevNextLinks.css';\n\nexport default function PrevNextLinks({ prev, next }) {\n  return (\n    <nav id=\"prevNextPostLinks\">\n      {\n        (prev || next) && (\n          <ul>\n            {prev && (<li className=\"prevPost\"><Link to={prev.slug}>{prev.title}</Link></li>)}\n            {next && (<li className=\"nextPost\"><Link to={next.slug}>{next.title}</Link></li>)}\n          </ul>\n        )\n      }\n    </nav>\n  );\n}\n\nPrevNextLinks.propTypes = {\n  prev: PropTypes.shape({\n    title: PropTypes.string,\n    slug: PropTypes.string,\n  }),\n  next: PropTypes.shape({\n    title: PropTypes.string,\n    slug: PropTypes.string,\n  }),\n};\n\nPrevNextLinks.defaultProps = {\n  prev: null,\n  next: null,\n};\n"],"sourceRoot":""}