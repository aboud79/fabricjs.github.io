{"version":3,"file":"component---src-templates-demo-jsx-content-file-path-src-content-demo-intersection-index-md-6b3b59ab84723532262a.js","mappings":"oMAAO,MAAMA,EAAI,2jECKjB,SAASC,EAAkBC,GACzB,OAAOC,EAAAA,cAAoBA,EAAAA,SAAgB,KAAMA,EAAAA,cAAoB,IAAK,KAAM,mCAAoCA,EAAAA,cAAoB,IAAK,KAAM,kBAAmB,uBAAwB,KAAMA,EAAAA,cAAoBC,EAAAA,EAAY,CAClOJ,KAAMA,EACNK,SAAU,UACTF,EAAAA,cAAoB,SAAU,CAC/BG,GAAI,SACJC,MAAO,MACPC,OAAQ,SAEZ,CAKA,MAJA,SAAoBN,QAAK,IAALA,IAAAA,EAAQ,CAAC,GAC3B,MAAOO,QAASC,GAAaC,OAAOC,OAAO,CAAC,GAAGC,EAAAA,EAAAA,MAAsBX,EAAMY,YAC3E,OAAOJ,EAAYP,EAAAA,cAAoBO,EAAWR,EAAOC,EAAAA,cAAoBF,EAAmBC,IAAUD,GAC5G,E,kDCVA,SAASc,EAAIC,GAAgC,IAA/B,KAACC,EAAI,YAAEC,EAAW,SAAEC,GAASH,EACzC,MAAM,YAACI,EAAW,OAAEC,GAAUJ,EAAKK,SACnC,OAAOnB,EAAAA,cAAoBoB,EAAAA,EAAiB,KAAMpB,EAAAA,cAAoBqB,EAAAA,EAAK,CACzEC,MAAOL,EAAYK,QACjBtB,EAAAA,cAAoB,MAAO,CAC7BG,GAAI,iBACJ,aAAc,cACbH,EAAAA,cAAoBuB,EAAAA,GAAM,CAC3BC,GAAI,UACH,SAAU,MAAOxB,EAAAA,cAAoB,OAAQ,KAAMiB,EAAYK,QAAStB,EAAAA,cAAoB,KAAM,KAAMiB,EAAYK,OAAQtB,EAAAA,cAAoB,UAAW,KAAMgB,GAAWhB,EAAAA,cAAoByB,EAAAA,EAAgB,CACjNC,aAAcR,EAAOQ,eACnB1B,EAAAA,cAAoB2B,EAAAA,EAAe,CACrCC,KAAMb,EAAYa,MAAS,CACzBN,MAAO,qBACPO,KAAM,UAERC,KAAMf,EAAYe,OAEtB,CACe,SAASC,EAAiBhC,GACvC,OAAOC,EAAAA,cAAoBY,EAAMb,EAAOC,EAAAA,cAAoBgC,EAAqBjC,GACnF,C","sources":["webpack://fabric-gatsby5/./src/content/demo/intersection/code.js","webpack://fabric-gatsby5/./src/content/demo/intersection/index.md","webpack://fabric-gatsby5/./src/templates/demo.jsx"],"sourcesContent":["export const code = `\nconst canvas = new fabric.Canvas(canvasEl);\n\nfabric.Object.ownDefaults.transparentCorners = false;\n\nconst rect1 = new fabric.Rect({\n  width: 200,\n  height: 100,\n  left: 0,\n  top: 50,\n  angle: 30,\n  fill: 'rgba(255,0,0,0.5)',\n});\n\nconst rect2 = new fabric.Rect({\n  width: 100,\n  height: 100,\n  left: 350,\n  top: 250,\n  angle: -10,\n  fill: 'rgba(0,200,0,0.5)',\n});\n\nconst rect3 = new fabric.Rect({\n  width: 50,\n  height: 100,\n  left: 275,\n  top: 350,\n  angle: 45,\n  stroke: '#eee',\n  strokeWidth: 10,\n  fill: 'rgba(0,0,200,0.5)',\n});\n\nconst circle = new fabric.Circle({\n  radius: 50,\n  left: 275,\n  top: 75,\n  fill: '#aac',\n});\n\nconst triangle = new fabric.Triangle({\n  width: 100,\n  height: 100,\n  left: 50,\n  top: 300,\n  fill: '#cca',\n});\n\ncanvas.add(rect1, rect2, rect3, circle, triangle);\ncanvas.on({\n  'object:moving': onChange,\n  'object:scaling': onChange,\n  'object:rotating': onChange,\n  'object:skewing': onChange,\n});\n\nconst hit = new fabric.Circle({\n  radius: 5,\n  originX: 'center',\n  originY: 'center',\n  opacity: 0.5,\n});\n\nfunction onChange({ target }) {\n  target.setCoords();\n  const ctx = canvas.getTopContext();\n  canvas.clearContext(ctx);\n  canvas.forEachObject((obj) => {\n    if (obj === target) {\n      obj.set('opacity', 1);\n      return;\n    }\n    const intersection = fabric.Intersection.intersectPolygonPolygon(\n      target.getCoords(true),\n      obj.getCoords(true)\n    );\n\n    hit.set({ fill: obj.fill });\n    if (\n      intersection.status === 'Intersection' ||\n      intersection.status === 'Coincident' ||\n      obj.isContainedWithinObject(target, true) ||\n      target.isContainedWithinObject(obj, true)\n    ) {\n      obj.set('opacity', 0.5);\n      ctx.save();\n      ctx.transform(...canvas.viewportTransform);\n      hit.transform(ctx);\n      intersection.points.forEach(({ x, y }) => {\n        ctx.save();\n        ctx.translate(x, y);\n        hit._render(ctx);\n        ctx.restore();\n      });\n      ctx.restore();\n    } else {\n      obj.set('opacity', 1);\n    }\n  });\n}\n`;\n","/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nimport {CodeEditor} from '../../../components/CodeEditor';\nimport {code} from './code';\nfunction _createMdxContent(props) {\n  return React.createElement(React.Fragment, null, React.createElement(\"p\", null, \"Intersection is checked against \", React.createElement(\"b\", null, \"bounding boxes\"), \", not actual shapes\"), \"\\n\", React.createElement(CodeEditor, {\n    code: code,\n    canvasId: \"canvas\"\n  }, React.createElement(\"canvas\", {\n    id: \"canvas\",\n    width: \"500\",\n    height: \"500\"\n  })));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import GATSBY_COMPILED_MDX from \"/home/runner/work/fabricjs.github.io/fabricjs.github.io/src/content/demo/intersection/index.md\";\nimport React from 'react';\nimport {graphql, Link} from 'gatsby';\nimport PropTypes from 'prop-types';\nimport LayoutFullWidth from '../components/layoutFullWidth';\nimport GithubEditLink from '../components/githubEditLink/githubEditLink';\nimport PrevNextLinks from '../components/prevNextPostLinks/prevNextLinks';\nimport Seo from '../components/seo';\nfunction Demo({data, pageContext, children}) {\n  const {frontmatter, mdFile} = data.demoPage;\n  return React.createElement(LayoutFullWidth, null, React.createElement(Seo, {\n    title: frontmatter.title\n  }), React.createElement(\"nav\", {\n    id: \"breadcrumb-nav\",\n    \"aria-label\": \"breadcrumb\"\n  }, React.createElement(Link, {\n    to: \"/demos\"\n  }, \"Demos\"), \" > \", React.createElement(\"span\", null, frontmatter.title)), React.createElement(\"h1\", null, frontmatter.title), React.createElement(\"article\", null, children), React.createElement(GithubEditLink, {\n    relativePath: mdFile.relativePath\n  }), React.createElement(PrevNextLinks, {\n    prev: pageContext.prev || ({\n      title: 'All FabricJS demos',\n      slug: '/demos'\n    }),\n    next: pageContext.next\n  }));\n}\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(Demo, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\nexport const query = graphql`\n  query ($slug: String!) {\n    demoPage: mdx(fields: { slug: { eq: $slug } }) {\n      frontmatter {\n        title\n      }\n      mdFile: parent {\n        ... on File {\n          relativePath\n        }\n      }\n    }\n  }\n`;\nDemo.propTypes = {\n  data: PropTypes.shape({\n    demoPage: PropTypes.object\n  }).isRequired,\n  children: PropTypes.any,\n  pageContext: PropTypes.shape({\n    prev: PropTypes.shape({\n      title: PropTypes.string,\n      slug: PropTypes.string\n    }),\n    next: PropTypes.shape({\n      title: PropTypes.string,\n      slug: PropTypes.string\n    })\n  }).isRequired\n};\n"],"names":["code","_createMdxContent","props","React","CodeEditor","canvasId","id","width","height","wrapper","MDXLayout","Object","assign","_provideComponents","components","Demo","_ref","data","pageContext","children","frontmatter","mdFile","demoPage","LayoutFullWidth","Seo","title","Link","to","GithubEditLink","relativePath","PrevNextLinks","prev","slug","next","GatsbyMDXWrapper","GATSBY_COMPILED_MDX"],"sourceRoot":""}