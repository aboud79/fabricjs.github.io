"use strict";(self.webpackChunkfabric_gatsby5=self.webpackChunkfabric_gatsby5||[]).push([[225],{9961:function(n,e,a){a.r(e),a.d(e,{default:function(){return m}});var t=a(1151),r=a(7294);const i="\n  const $ = (id) => document.getElementById(id);\n\n  const canvas = new fabric.Canvas(canvasEl, {\n    isDrawingMode: true,\n  });\n\n  canvas.freeDrawingBrush = new fabric.PencilBrush(canvas);\n\n  fabric.Object.prototype.transparentCorners = false;\n\n  var drawingModeEl = $('drawing-mode'),\n    drawingOptionsEl = $('drawing-mode-options'),\n    drawingColorEl = $('drawing-color'),\n    drawingShadowColorEl = $('drawing-shadow-color'),\n    drawingLineWidthEl = $('drawing-line-width'),\n    drawingShadowWidth = $('drawing-shadow-width'),\n    drawingShadowOffset = $('drawing-shadow-offset'),\n    clearEl = $('clear-canvas');\n\n  clearEl.onclick = function () {\n    canvas.clear();\n  };\n\n  drawingModeEl.onclick = function () {\n    canvas.isDrawingMode = !canvas.isDrawingMode;\n    if (canvas.isDrawingMode) {\n      drawingModeEl.innerHTML = 'Cancel drawing mode';\n    } else {\n      drawingModeEl.innerHTML = 'Enter drawing mode';\n    }\n  };\n\n  if (fabric.PatternBrush) {\n    var vLinePatternBrush = new fabric.PatternBrush(canvas);\n    vLinePatternBrush.getPatternSrc = function () {\n      var patternCanvas = fabric.getEnv().document.createElement('canvas');\n      patternCanvas.width = patternCanvas.height = 10;\n      var ctx = patternCanvas.getContext('2d');\n\n      ctx.strokeStyle = this.color;\n      ctx.lineWidth = 5;\n      ctx.beginPath();\n      ctx.moveTo(0, 5);\n      ctx.lineTo(10, 5);\n      ctx.closePath();\n      ctx.stroke();\n\n      return patternCanvas;\n    };\n\n    var hLinePatternBrush = new fabric.PatternBrush(canvas);\n    hLinePatternBrush.getPatternSrc = function () {\n      var patternCanvas = fabric.getEnv().document.createElement('canvas');\n      patternCanvas.width = patternCanvas.height = 10;\n      var ctx = patternCanvas.getContext('2d');\n\n      ctx.strokeStyle = this.color;\n      ctx.lineWidth = 5;\n      ctx.beginPath();\n      ctx.moveTo(5, 0);\n      ctx.lineTo(5, 10);\n      ctx.closePath();\n      ctx.stroke();\n\n      return patternCanvas;\n    };\n\n    var squarePatternBrush = new fabric.PatternBrush(canvas);\n    squarePatternBrush.getPatternSrc = function () {\n      var squareWidth = 10,\n        squareDistance = 2;\n\n      var patternCanvas = fabric.getEnv().document.createElement('canvas');\n      patternCanvas.width = patternCanvas.height = squareWidth + squareDistance;\n      var ctx = patternCanvas.getContext('2d');\n\n      ctx.fillStyle = this.color;\n      ctx.fillRect(0, 0, squareWidth, squareWidth);\n\n      return patternCanvas;\n    };\n\n    var diamondPatternBrush = new fabric.PatternBrush(canvas);\n    diamondPatternBrush.getPatternSrc = function () {\n      var squareWidth = 10,\n        squareDistance = 5;\n      var patternCanvas = fabric.getEnv().document.createElement('canvas');\n      var rect = new fabric.Rect({\n        width: squareWidth,\n        height: squareWidth,\n        angle: 45,\n        fill: this.color,\n      });\n\n      var canvasWidth = rect.getBoundingRect().width;\n\n      patternCanvas.width = patternCanvas.height = canvasWidth + squareDistance;\n      rect.set({\n        left: canvasWidth / 2,\n        top: canvasWidth / 2,\n      });\n\n      var ctx = patternCanvas.getContext('2d');\n      rect.render(ctx);\n\n      return patternCanvas;\n    };\n\n    var img = new Image();\n    img.src = '../../assets/ladybug.png';\n\n    var texturePatternBrush = new fabric.PatternBrush(canvas);\n    texturePatternBrush.source = img;\n  }\n\n  $('drawing-mode-selector').onchange = function () {\n    if (this.value === 'hline') {\n      canvas.freeDrawingBrush = vLinePatternBrush;\n    } else if (this.value === 'vline') {\n      canvas.freeDrawingBrush = hLinePatternBrush;\n    } else if (this.value === 'square') {\n      canvas.freeDrawingBrush = squarePatternBrush;\n    } else if (this.value === 'diamond') {\n      canvas.freeDrawingBrush = diamondPatternBrush;\n    } else if (this.value === 'texture') {\n      canvas.freeDrawingBrush = texturePatternBrush;\n    } else {\n      canvas.freeDrawingBrush = new fabric[this.value + 'Brush'](canvas);\n    }\n\n    if (canvas.freeDrawingBrush) {\n      canvas.freeDrawingBrush.color = drawingColorEl.value;\n      canvas.freeDrawingBrush.width =\n        parseInt(drawingLineWidthEl.value, 10) || 1;\n      canvas.freeDrawingBrush.shadow = new fabric.Shadow({\n        blur: parseInt(drawingShadowWidth.value, 10) || 0,\n        offsetX: 0,\n        offsetY: 0,\n        affectStroke: true,\n        color: drawingShadowColorEl.value,\n      });\n    }\n  };\n\n  drawingColorEl.onchange = function () {\n    canvas.freeDrawingBrush.color = this.value;\n  };\n  drawingShadowColorEl.onchange = function () {\n    canvas.freeDrawingBrush.shadow.color = this.value;\n  };\n  drawingLineWidthEl.onchange = function () {\n    canvas.freeDrawingBrush.width = parseInt(this.value, 10) || 1;\n    this.previousSibling.querySelector('span').innerHTML = this.value;\n  };\n  drawingShadowWidth.onchange = function () {\n    canvas.freeDrawingBrush.shadow.blur = parseInt(this.value, 10) || 0;\n    this.previousSibling.querySelector('span').innerHTML = this.value;\n  };\n  drawingShadowOffset.onchange = function () {\n    canvas.freeDrawingBrush.shadow.offsetX = parseInt(this.value, 10) || 0;\n    canvas.freeDrawingBrush.shadow.offsetY = parseInt(this.value, 10) || 0;\n    this.previousSibling.querySelector('span').innerHTML = this.value;\n  };\n\n  if (canvas.freeDrawingBrush) {\n    canvas.freeDrawingBrush.color = drawingColorEl.value;\n    canvas.freeDrawingBrush.width = parseInt(drawingLineWidthEl.value, 10) || 1;\n    canvas.freeDrawingBrush.shadow = new fabric.Shadow({\n      blur: parseInt(drawingShadowWidth.value, 10) || 0,\n      offsetX: 0,\n      offsetY: 0,\n      affectStroke: true,\n      color: drawingShadowColorEl.value,\n    });\n  }\n";var l=a(8948);const s=()=>((0,r.useEffect)((()=>{document.getElementById("drawing-line-width").value="30",document.getElementById("drawing-color").value="#76cef4",document.getElementById("drawing-shadow-color").value="#5a7896",document.getElementById("drawing-shadow-width").value="0",document.getElementById("drawing-shadow-offset").value="0"}),[]),null);function c(n){const e=Object.assign({p:"p"},(0,t.ah)(),n.components);return r.createElement(r.Fragment,null,r.createElement(l.p,{code:i,canvasId:"c"},r.createElement("div",{className:"demo-body"},r.createElement("canvas",{id:"c",width:"500",height:"500"}),r.createElement("div",{id:"drawing-mode-options"},r.createElement("button",{id:"drawing-mode",className:"btn btn-info"},"Cancel drawing mode"),r.createElement("button",{id:"clear-canvas",className:"btn btn-info"},"Clear"),r.createElement("label",{htmlFor:"drawing-mode-selector"},r.createElement(e.p,null,"Mode:"),r.createElement("select",{id:"drawing-mode-selector"},r.createElement("option",null,"Pencil"),r.createElement("option",null,"Circle"),r.createElement("option",null,"Spray"),r.createElement("option",null,"Pattern"),r.createElement("option",null,"hline"),r.createElement("option",null,"vline"),r.createElement("option",null,"square"),r.createElement("option",null,"diamond"),r.createElement("option",null,"texture"))),r.createElement("label",{htmlFor:"drawing-line-width"},r.createElement(e.p,null,"Line width:\n",r.createElement("span",{className:"info"},"30")),r.createElement("input",{type:"range",min:"0",max:"150",id:"drawing-line-width"})),r.createElement("label",{htmlFor:"drawing-color"},r.createElement(e.p,null,"Line color:"),r.createElement("input",{type:"color",id:"drawing-color"})),r.createElement("label",{htmlFor:"drawing-shadow-color"},r.createElement(e.p,null,"Shadow color:"),r.createElement("input",{type:"color",id:"drawing-shadow-color"})),r.createElement("label",{htmlFor:"drawing-shadow-width"},r.createElement(e.p,null,"Shadow width:\n",r.createElement("span",{className:"info"},"0")),r.createElement("input",{type:"range",min:"0",max:"50",id:"drawing-shadow-width"})),r.createElement("label",{htmlFor:"drawing-shadow-offset"},r.createElement(e.p,null,"Shadow offset:\n",r.createElement("span",{className:"info"},"0")),r.createElement("input",{type:"range",min:"0",max:"50",id:"drawing-shadow-offset"}))))),"\n",r.createElement(s))}var o=function(n){void 0===n&&(n={});const{wrapper:e}=Object.assign({},(0,t.ah)(),n.components);return e?r.createElement(e,n,r.createElement(c,n)):c(n)},d=a(4160),h=a(6422),u=a(1202),w=a(6330),v=a(2059);function g(n){let{data:e,pageContext:a,children:t}=n;const{frontmatter:i,mdFile:l}=e.demoPage;return r.createElement(h.Z,null,r.createElement(v.Z,{title:i.title}),r.createElement("nav",{id:"breadcrumb-nav","aria-label":"breadcrumb"},r.createElement(d.rU,{to:"/demos"},"Demos")," > ",r.createElement("span",null,i.title)),r.createElement("h1",null,i.title),r.createElement("article",null,t),r.createElement(u.Z,{relativePath:l.relativePath}),r.createElement(w.Z,{prev:a.prev||{title:"All FabricJS demos",slug:"/demos"},next:a.next}))}function m(n){return r.createElement(g,n,r.createElement(o,n))}}}]);
//# sourceMappingURL=component---src-templates-demo-jsx-content-file-path-src-content-demo-free-drawing-index-md-eb2face5cd68c445a1a3.js.map