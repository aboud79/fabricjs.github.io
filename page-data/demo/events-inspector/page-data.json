{"componentChunkName":"component---src-templates-demo-jsx","path":"/demo/events-inspector/","result":{"data":{"demoPage":{"html":"<div\r\n  class=\"codepen-later\"\r\n  data-editable=\"true\"\r\n  data-height=\"500\"\r\n  data-default-tab=\"result\"\r\n  data-prefill='{\r\n    \"scripts\": [\"https://unpkg.com/fabric@4.0.0-rc.1/dist/fabric.js\", \"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.15/lodash.js\"]\r\n  }'\r\n>\r\n<pre data-lang=\"css\" data-options-autoprefixer=\"true\">\r\n  p { margin-top: 3px; margin-bottom: 3px; }\r\n  #log1, #log2 { display: inline-block; width: 620px; height: 260px; overflow-y: scroll; overflow-x: scroll; font-family: monospace; font-size: 11px; }\r\n  #log1 > p { border-bottom: 1px solid blue; }\r\n  #observing-events-log { position: absolute; top: 70px; left: 650px }\r\n  #non-observing-events-log { position: absolute; top: 70px; left: 840px; }\r\n  #observing-events-log-obj { position: absolute; top: 190px; left: 840px; }\r\n  #drag-stuff {\r\n    position: absolute; top: 162px; left: 430px;\r\n  }\r\n  #drag-me {\r\n    display: inline-block;\r\n    width: 100px;\r\n    background-color: purple;\r\n    height: 100px;\r\n  }\r\n  .log strong { margin-bottom: 10px; display: block; }\r\n</pre>\r\n<pre data-lang=\"html\">\r\n<p>\r\n  To avoid event spamming, you can disable the two checkbox below.<br />\r\n  <input type=\"checkbox\" id=\"move\" checked /> MouseMove <input type=\"checkbox\" id=\"dragover\" checked /> DragOver.\r\n</p>\r\n<canvas id=\"c1\" width=\"400\" height=\"250\"></canvas>\n<div id=\"drag-stuff\" class=\"log\">\r\n  Drag me on the canvas<br /><br />\r\n  <div id=\"drag-me\" draggable=\"true\" ondragstart=\"event.dataTransfer.setData('text/plain', '')\"></div>\r\n</div>\n<div id=\"observing-events-log\" class=\"log\">\r\n  <strong>Observing these events</strong>\r\n</div>\n<div id=\"observing-events-log-obj\" class=\"log\">\r\n  <strong>Objects events</strong>\r\n</div>\n<div id=\"non-observing-events-log\" class=\"log\">\r\n  <strong>Other available events</strong>\r\n  <p>\"path:created\"</p>\r\n  <p>\"object:added\"</p>\r\n  <p>\"object:removed\"</p>\r\n</div>\n<div>\r\n  <div id=\"log1\">&nbsp;</div>\r\n</div>\r\n</pre>\r\n<pre data-lang=\"js\">\r\n(function() {\r\n\tthis.__canvases = [];\r\n\tfabric.Object.prototype.transparentCorners = false;\r\n\tvar canvas2 = new fabric.Canvas('c1');\r\n\tcanvas2.add(new fabric.Rect({\r\n\t\twidth: 50,\r\n\t\theight: 50,\r\n\t\tfill: 'red',\r\n\t\ttop: 100,\r\n\t\tleft: 100\r\n\t}));\r\n\tcanvas2.add(new fabric.Rect({\r\n\t\twidth: 30,\r\n\t\theight: 30,\r\n\t\tfill: 'green',\r\n\t\ttop: 50,\r\n\t\tleft: 50\r\n\t}));\r\n\tcanvas2.add(new fabric.Circle({\r\n\t\tradius: 20,\r\n\t\tfill: 'blue',\r\n\t\ttop: 160,\r\n\t\tleft: 140\r\n\t}));\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var log2 = document.getElementById('log1');\r\n\r\nfunction log(message, opt, color) {\r\n\tif ((message === 'mouse:move' || message === 'mousemove' || message === 'mouse:move:before' || message === 'mousemove:before') &amp;&amp; !document.getElementById('move').checked) {\r\n\t\treturn;\r\n\t}\r\n\tif ((message === 'dragover') &amp;&amp; !document.getElementById('dragover').checked) {\r\n\t\treturn;\r\n\t}\r\n\tvar el = document.createElement('p');\r\n\tif (color) {\r\n\t\tel.style.color = color;\r\n\t}\r\n\tel.appendChild(document.createTextNode(message + ' ' + JSON.stringify(opt)));\r\n\tlog2.insertBefore(el, log2.firstChild);\r\n\tvar children = log2.children;\r\n\twhile (children[100]) {\r\n\t\tvar child = children[100];\r\n\t\tlog2.removeChild(child);\r\n\t}\r\n}\r\n\r\nfunction logObservingEvent(eventName) {\r\n\tvar el = document.getElementById('observing-events-log');\r\n\tvar para = document.createElement('p');\r\n\tpara.appendChild(document.createTextNode(eventName));\r\n\tel.appendChild(para);\r\n}\r\n\r\nfunction logObservingEventObj(eventName) {\r\n\tvar el = document.getElementById('observing-events-log-obj');\r\n\tvar para = document.createElement('p');\r\n\tpara.appendChild(document.createTextNode(eventName));\r\n\tel.appendChild(para);\r\n}\r\n\r\nfunction addSeparator(id) {\r\n\tdocument.getElementById(id).appendChild(document.createElement('br'));\r\n}\r\n\r\nfunction observe(eventName) {\r\n\tlogObservingEvent(eventName);\r\n\tcanvas2.on(eventName, function(opt) {\r\n\t\tlog(eventName, opt)\r\n\t});\r\n}\r\n\r\nfunction observeObj(eventName) {\r\n\tlogObservingEventObj(eventName);\r\n\tcanvas2.getObjects().forEach(function(o) {\r\n\t\to.on(eventName, function(opt) {\r\n\t\t\tlog(eventName, opt, o.fill)\r\n\t\t});\r\n\t});\r\n}\r\n\r\nobserve('object:modified');\r\naddSeparator('observing-events-log');\r\n\r\nobserve('object:moving');\r\nobserve('object:scaling');\r\nobserve('object:rotating');\r\nobserve('object:skewing');\r\nobserve('object:moved');\r\nobserve('object:scaled');\r\nobserve('object:rotated');\r\nobserve('object:skewed');\r\naddSeparator('observing-events-log');\r\n\r\nobserve('before:transform');\r\nobserve('before:selection:cleared');\r\nobserve('selection:cleared');\r\nobserve('selection:created');\r\nobserve('selection:updated');\r\naddSeparator('observing-events-log');\r\n\r\nobserve('mouse:up');\r\nobserve('mouse:down');\r\nobserve('mouse:move');\r\nobserve('mouse:up:before');\r\nobserve('mouse:down:before');\r\nobserve('mouse:move:before');\r\nobserve('mouse:dblclick');\r\nobserve('mouse:wheel');\r\nobserve('mouse:over');\r\nobserve('mouse:out');\r\naddSeparator('observing-events-log');\r\n\r\nobserve('drop');\r\nobserve('dragover');\r\nobserve('dragenter');\r\nobserve('dragleave');\r\naddSeparator('observing-events-log');\r\n\r\nobserve('after:render');\r\naddSeparator('observing-events-log');\r\n\r\nobserveObj('moving');\r\nobserveObj('scaling');\r\nobserveObj('rotating');\r\nobserveObj('skewing');\r\nobserveObj('moved');\r\nobserveObj('scaled');\r\nobserveObj('rotated');\r\nobserveObj('skewed');\r\naddSeparator('observing-events-log-obj');\r\n\r\nobserveObj('mouseup');\r\nobserveObj('mousedown');\r\nobserveObj('mousemove');\r\nobserveObj('mouseup:before');\r\nobserveObj('mousedown:before');\r\nobserveObj('mousemove:before');\r\nobserveObj('mousedblclick');\r\nobserveObj('mousewheel');\r\nobserveObj('mouseover');\r\nobserveObj('mouseout');\r\naddSeparator('observing-events-log-obj');\r\n\r\nobserveObj('drop');\r\nobserveObj('dragover');\r\nobserveObj('dragenter');\r\nobserveObj('dragleave');\r\nthis.__canvases.push(canvas2);</code></pre></div>\n<p>})();\r\n</pre></p>\n</div>","frontmatter":{"title":"Events inspector"},"mdFile":{"relativePath":"demo/events-inspector/index.md"}}},"pageContext":{"title":"Events inspector","slug":"/demo/events-inspector","prev":{"title":"Custom controls for polygon","slug":"/demo/custom-controls-polygon"},"next":{"title":"Free drawing","slug":"/demo/free-drawing"}}},"staticQueryHashes":["2748212769"],"slicesMap":{}}