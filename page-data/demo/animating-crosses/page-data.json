{"componentChunkName":"component---src-templates-demo-jsx","path":"/demo/animating-crosses/","result":{"data":{"demoPage":{"html":"<div\r\n  class=\"codepen-later\"\r\n  data-editable=\"true\"\r\n  data-height=\"500\"\r\n  data-default-tab=\"result\"\r\n  data-prefill='{\r\n    \"scripts\": [\"https://unpkg.com/fabric@4.0.0-rc.1/dist/fabric.js\"]\r\n  }'\r\n>\r\n<pre data-lang=\"html\">\r\n  <canvas id=\"c\" width=\"600\" height=\"500\"></canvas>\r\n</pre>\r\n<pre data-lang=\"js\">\r\n(function() {\r\n\tvar canvas = this.__canvas = new fabric.Canvas('c');\r\n\tfabric.Object.prototype.transparentCorners = false;\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var Cross = fabric.util.createClass(fabric.Object, {\r\n\tobjectCaching: false,\r\n\tinitialize: function(options) {\r\n\t\tthis.callSuper('initialize', options);\r\n\t\tthis.animDirection = 'up';\r\n\r\n\t\tthis.width = 100;\r\n\t\tthis.height = 100;\r\n\r\n\t\tthis.w1 = this.h2 = 100;\r\n\t\tthis.h1 = this.w2 = 30;\r\n\t},\r\n\r\n\tanimateWidthHeight: function() {\r\n\t\tvar interval = 2;\r\n\r\n\t\tif (this.h2 >= 30 &amp;&amp; this.h2 &lt;= 100) {\r\n\t\t\tvar actualInterval = (this.animDirection === 'up' ? interval : -interval);\r\n\t\t\tthis.h2 += actualInterval;\r\n\t\t\tthis.w1 += actualInterval;\r\n\t\t}\r\n\r\n\t\tif (this.h2 >= 100) {\r\n\t\t\tthis.animDirection = 'down';\r\n\t\t\tthis.h2 -= interval;\r\n\t\t\tthis.w1 -= interval;\r\n\t\t}\r\n\t\tif (this.h2 &lt;= 30) {\r\n\t\t\tthis.animDirection = 'up';\r\n\t\t\tthis.h2 += interval;\r\n\t\t\tthis.w1 += interval;\r\n\t\t}\r\n\t},\r\n\r\n\t_render: function(ctx) {\r\n\t\tctx.fillRect(-this.w1 / 2, -this.h1 / 2, this.w1, this.h1);\r\n\t\tctx.fillRect(-this.w2 / 2, -this.h2 / 2, this.w2, this.h2);\r\n\t}\r\n});\r\n\r\ncanvas.add(\r\n\tnew Cross({\r\n\t\ttop: 100,\r\n\t\tleft: 100\r\n\t}),\r\n\tnew Cross({\r\n\t\ttop: 140,\r\n\t\tleft: 230\r\n\t}),\r\n\tnew Cross({\r\n\t\ttop: 300,\r\n\t\tleft: 210\r\n\t}),\r\n\tnew Cross({\r\n\t\ttop: 40,\r\n\t\tleft: 400\r\n\t}),\r\n\tnew Cross({\r\n\t\ttop: 450,\r\n\t\tleft: 400\r\n\t})\r\n);\r\n\r\nsetTimeout(function animate() {\r\n\tcanvas.forEachObject(function(obj) {\r\n\t\tobj.animateWidthHeight();\r\n\t\tobj.dirty = true;\r\n\t});\r\n\tcanvas.renderAll();\r\n\tsetTimeout(animate, 10);\r\n}, 10);</code></pre></div>\n<p>})();\r\n</pre></p>\n</div>","frontmatter":{"title":"Animating crosses"},"mdFile":{"relativePath":"demo/animating-crosses/index.md"}}},"pageContext":{"title":"Animating crosses","slug":"/demo/animating-crosses","prev":null,"next":{"title":"Animation easing","slug":"/demo/animation-easing"}}},"staticQueryHashes":["2748212769"],"slicesMap":{}}